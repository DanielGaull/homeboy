COMMENT = _{ "#" ~ (!"\n" ~ ANY)* }
WHITESPACE = _{ " " | "\n" | "\t" | "\r" }

template = { symbol ~ ("|" ~ symbol)* }
symbol = { (word | subtemplateCall | varBind | "(" ~ template ~ ")") ~ "?" }

subtemplateCall = { "{" ~ subtemplateIdent ~ "}" }
varBind = { "[" ~ ident ~ "]" }
word = { ASCII_ALPHANUMERIC+ }

subtemplateIdent = { ANY+ }
ident = { ASCII_ALPHANUMERIC+ }
